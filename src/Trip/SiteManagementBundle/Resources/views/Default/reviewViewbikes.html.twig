{% extends 'page.html.twig' %}
{% block stylesheets %}

{% endblock %}
{% block javascripts %}
<script type="text/javascript">

</script>
<script type="text/javascript">
		$(function(){
			$('#datetime2').appendDtpicker();
		});
		
		
	</script>
	<script type="text/javascript">
		$(function(){
			$('#datetime3').appendDtpicker();
		});
		
	</script>
	<script>
			$(document).ready(function(){
				$("#datetime3").change(function(){
					var first=$("#datetime2").val();
					var second=$("#datetime3").val();
					if(first===second)
					{
						alert("Reture date is inavlid please select returndate greaterthan pickupdate");
					}
					else{
						//alert("this is different string");
						//return;
					}
				});
			});
		</script>
	<script>
	var s=$('.disabled');
	console.log("this is children method"+s);
	var o=$('.disabled select')
	for(i=0;i<o.length;i++){
		var store=o[i];
		var r=$(store).val();
		console.log(r);
		if(r==null){
			$(s[i]).css('display','none');
		}	
	}
	</script>
{% endblock %}

{% block breadcrumb %}
	<div class="c1 breadcrumb text-left">
                        <div>
                        	<span class="glyphicon glyphicon-home" style="padding:5px;"></span><a href="{{ path('trip_site_management_homepage')}}">Home</a>
                        	<span><span class="glyphicon glyphicon-chevron-right" style="padding:5px;"></span>Bike List</span>
                      </div>
                    </div>
                   
                    <h3></h3>
{% endblock %}

{% block body %}
	 <section class="section clearfix filter-box" style="background-color:#fff;">
	 	<div class="container">
            			<div class="row">
                   				<div class="col-md-12">
                   					<div class="row">
                   						<div class="col-md-2">
                   						<h3 class="review-modifiy">Modify Search</h3>
                   						</div>
                                         {{ form_start(form) }}
                                         {{ form_errors(form) }}
                                         {{ form_errors(form.date) }}
                                         {{ form_errors(form.returndate) }}
            								<div class="col-md-2 bikes-form-font">
            								{{ form_label(form.location) }}
                                            {{ form_widget(form.location) }}
                                            <hr class="hr-nomargin hr-border-color">
                                            </div>
                                         	<div class="col-md-2 bikes-form-font">
                                         	{{ form_label(form.date) }}
                                            {{ form_widget(form.date, {'id': 'datetime2'}) }}
                                            <hr class="hr-nomargin hr-border-color">
                                            </div>
                                            <div class="col-md-2 bikes-form-font">
                                            {{ form_label(form.returndate) }}
                                            	{{ form_widget(form.returndate, {'id': 'datetime3'}) }}
                                            	<hr class="hr-nomargin hr-border-color">
                                            </div>
                                            <div class="col-md-2">
                                            {{ form_label(form.submit) }} 
                                            {{ form_widget(form.submit,{'id':'reviewsubmit'}) }}
                                            </div>
                                         
                                         <div class="col-md-2">
                                         	<p class="brandtype">Duration > <span class="black">{{ leftDays }} Days {{ hours }} Hours</span></p>
                   						</div>
                                     </div>
                   				</div> 
                   			</div>
	 		</div>
	 </section>
    <section class="section clearfix" style="padding-top: 30px;">
        <div class="container">
            <div class="row">
            	<div class="col-md-3">
            		<div class="row filter-box-aside"> 
            		<h3 class="review-apply-filter text-center">Apply Filters</h3>
            		{{ render(controller('TripSiteManagementBundle:SiteManagement:reviewbikesFilters', { 'active': 1, 'cityid': bikeslocbase.cityid })) }}
            		</div>
            		{{ form_end(form) }}
            	</div>
            	<div class="col-md-9">
            		<div class="row"> 
                     <div class="col-lg-12 col-sm-12 col-xs-12">
                            {% for result in resultset %} 
                            
                            <div class="col-md-4 disabled">
                            <div class="bike-background">
                            <div>
                             <h5 class="bike-grid-title">{{ result.title }}</h5>
                            <img src="{{asset('images/bikes/'~result.imgPath) }}" style="width: 70%;display: block;margin: 0 auto;">
                            </div>
                            	<form action="{{ path('trip_site_management_homepage_bikes_submit') }}" method="get">
                            			<div class="row bikes-loc">
                            			<div class="col-md-12">
                            				<p class="text-center selectarea-label">Available at</p>
                            					{{ render(controller('TripSiteManagementBundle:SiteManagement:reviewbikesSelectoptions', { 'id': result.id, 'active': 1, 'cityid': bikeslocbase.cityid })) }}
											<hr class="hr-nomargin" style="padding-bottom:10px;border-color: #787878;">
                            			</div>
									</div>
                            <div class="row bikes">
                                		<div class="col-md-5 text-center" style="padding-right: -1px;">
                                		<span class="black1">{{ picdate|date("h:i A ") }}</span>
                                		<span class="black2">{{ picdate|date("d/m/Y ") }}</span>
                                         </div>
                                         <div class="col-md-2 text-center" >
                                         <label class="valign">To</label>
                                         </div>
                                         <div class="col-md-5 text-center" style="padding-right: 0px;">
                                         <span class="black1">{{ returndate|date("h:i A ") }}</span>
                                         <span class="black2">{{ returndate|date("d/m/Y ") }}</span>
                                         </div>
                                 	 </div>
                                <h6 style="text-align:center;color:#000"><i class="fa fa-inr" aria-hidden="true"></i> {{ result.price }} <span class="limit">({{ result.kmlimit }} km/day)</span></h6>
                         		<div class="row">
                                         <div class="col-md-3" >
                                         </div>
                                         <div class="col-md-12" >
											
												{% set preferDate = picdate|date("d/m/Y h:i A") %}
												{% set returnDate = returndate|date("d/m/Y h:i A") %}
												<input type="hidden" name="id" class="form-control" value="{{ result.id }}"> 
												<input type="hidden" name="title" class="form-control" value="{{ result.title }}"> 
												<input type="hidden" name="pDate" class="form-control" value="{{ preferDate }}"> 
												<input type="hidden" name="rDate" class="form-control" value="{{ returnDate }}"> 
												<input type="hidden" name="price" class="form-control" value="{{ result.price }}"> 
												<input type="hidden" name="leftdays" class="form-control" value="{{ leftDays }}"> 
												<input type="hidden" name="hours" class="form-control" value="{{ hours }}"> 
												<input type="hidden" name="location" class="form-control" value="{{ location }}">
												<input type="hidden" name="countadd" class="form-control" value="1"> 
												<input type="hidden" name="count" class="form-control" value="{{ result.count }}"> 
												{% if (result.count <= 0) %}
                                          			<a class="btn btn-book-now view-bike" disabled>
                                                      Sold Out
                                                    </a>   
                                          	{% else %}
                                                <button type="submit" class="btn aligncenter view-bike">Rent Now</button>
                                            {% endif %}
											</form>
                                         </div>
                                         <div class="col-md-3" >
                                         </div>
                                 </div>
                         	</div>
                         </div>
                         
                         {% endfor %}
                     </div>    
            	</div>
            	
            	
            </div>
       
    </section>
{% endblock %}