{% extends 'page.html.twig' %}
{% block javascripts %}
<script>
$("select").change(function() {
			$("#search").submit();						
		});
		 $("input").blur(function() {
			$("#search").submit();						
		});
    
    
 // keep track of how many city fields have been rendered
    var itineraryCount = '{{ form.itineraryList|length }}';

    $('#add-another-itinerary').click(function(e) {
            e.preventDefault();
            /*if(itemCount>4){
                alert('Max 5 only');
                exit();
            }*/

            var itineraryList = $('#itinerary-list');

            // grab the prototype template
            var newWidget = itineraryList.attr('data-prototype');
            // replace the "__name__" used in the id and name of the prototype
            // with a number that's unique to your city
            newWidget = newWidget.replace(/__name__/g, itineraryCount);
            itineraryCount++;

            // create a new list element and add it to the list
            var newLi = $('<div></div>').html(newWidget);
            newLi.appendTo(itineraryList);
        });
</script>
{% endblock %}
{% block body %}

    <section class="section clearfix">
        <div class="container">
            <div class="row">
                <div id="fullwidth" class="col-sm-12">
               <div class="col-lg-5">
                    
                   {{ form_start(form) }}
                   <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.title) }}
                                {{ form_widget(form.title) }}
                            </div> 
                                                    
                    </div>
                     <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.name) }}
                                {{ form_widget(form.name) }}
                            </div> 
                                                    
                        </div>
                     <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.overview) }}
                                {{ form_widget(form.overview) }}
                            </div> 
                                                    
                        </div>   
                     <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.metaKeywords) }}
                                {{ form_widget(form.metaKeywords) }}
                            </div> 
                                                    
                        </div>   
                      <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.metaDescription) }}
                                {{ form_widget(form.metaDescription) }}
                            </div> 
                                                    
                        </div>   
                       <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.metaTitle) }}
                                {{ form_widget(form.metaTitle) }}
                            </div> 
                                                    
                        </div>                        
                        
                        
                      <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.packageUrl) }}
                                {{ form_widget(form.packageUrl) }}
                            </div> 
                                                    
                        </div>   
                        
                   <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.type) }}
                                {{ form_widget(form.type) }}
                            </div> 
                                                    
                        </div>   
                        
                    <div class="row form-group">
                            <div class="col-lg-8">
                            	{{ form_label(form.active) }}
                                {{ form_widget(form.active) }}
                            </div> 
                                                    
                        </div>   
                        
                       <h4>Itinerary</h4>
                		<div class="row">               		
                			<div class="col-lg-6">
                            	<label>Title</label>
                            </div> 
                            <div class="col-lg-6">
                            	<label>Description</label>
                            </div> 
                		</div>
                     {% macro information_prototype(j) %}
                        <div class="row form-group">
                            <div class="col-lg-6">
                                {{ form_widget(j.title) }}
                            </div> 
                                                    
                            <div class="col-lg-6">
                            	
                                {{ form_widget(j.description) }}
                            </div> 
                                                    
                        </div>
                   
                            
                        {% endmacro %}
                        <div id="itinerary-list"
                                                data-prototype="{{ _self.information_prototype(form.itineraryList.vars.prototype)|e }}">
                            {% for j in form.itineraryList %}
                             <div class="row form-group">
	                            <div class="col-lg-6">
	                                {{ form_widget(j.title) }}
	                            </div> 
	                                                    
	                            <div class="col-lg-6">
	                            	
	                                {{ form_widget(j.description) }}
	                            </div> 
                                                    
                        	</div>
                            {% endfor %}
                        </div>
                    <a href="#" id="add-another-itinerary">Add another Itinerary</a>
                        
                    
                    {{ form_end(form) }}
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}